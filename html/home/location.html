<!doctype html>
<html>

	<head>
		<meta charset="utf-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="../../css/mui.css" rel="stylesheet" />
		<style>
			html,body{
				height: 100%;
				width: 100%;
				background-color: #FFFFFF;
				margin: 0px;
				padding: 0px;
				touch-action: pan-y;
			}
			.mui-content{
				display: flex;
				flex-direction: column;
				align-items: center;
				width: 100%;
				background-color: #FFFFFF;
			}
			#ul {
				margin-top: 10px;
				margin-bottom: 10px;
			}
			#ul:after,#ul:before{
				height: 0px!important;  
			}
			.item{
				display: flex;
				flex-direction: row;
				justify-content: flex-start;
			}
			.icon{
				width: 20px;
				height: 20px;
				margin-right: 5px;
			}
			.text{
				white-space: normal;
				font-size: 18px;
			}
		</style>
	</head>

	<body>
		<script src="../../js/mui.js"></script>
		<script src="../../js/environment.js"></script>
		<script type="text/javascript">
			mui.init()
			mui.plusReady(function() {
				//不显示滚动条
				// plus.webview.currentWebview().setStyle({
				// 	scrollIndicator: 'none'
				// });

				mui('.mui-action-back')[0].addEventListener('tap', function() { // 绑定返回按钮事件
					plus.webview.show(plus.webview.currentWebview().opener());
				})
				plus.key.addEventListener('backbutton', function() {
					plus.webview.show(plus.webview.currentWebview().opener());
				})
				
				
				getShopInfo();
			})
			
			function getShopInfo() {
				mui.ajax(baseUrl + '/shop/list', {
					data: {
			
					},
					headers: {
						'Accept-Language': "en",
					},
					dataType: 'json',
					type: 'get',
					success: function(result) {
						if (result.code == 200) {
							var data = result.data;
							notifiULList(data.list);
						} else {
							mui.toast(result.msg);
						}
			
					}
				});
				}

			function notifiULList(data) {
				//plus.nativeUI.closeWaiting();
				var doc = document,
					fragment = doc.createDocumentFragment(),
					container = doc.getElementById("ul");
				//遍历数组
				mui.each(data, function(i, item) {
					notifiAndSetLiDetail(fragment, item);
				});
				container.appendChild(fragment);
			}


			function notifiAndSetLiDetail(fragment, item) {
				var doc = document,
					li = doc.createElement("li"),
					a = doc.createElement("a"),
					img = doc.createElement("img"),
					div = doc.createElement("div"),
					div2 = doc.createElement("div"),
					location = doc.createElement("div"),
					locationIcon = doc.createElement("img"),
					locationText = doc.createElement("div"),
					phone = doc.createElement("div"),
					phoneIcon = doc.createElement("img"),
					phoneText = doc.createElement("div"),
					sendPhone = doc.createElement("div"),
					sendPhoneIcon = doc.createElement("img"),
					sendPhoneText = doc.createElement("div"),
					time = doc.createElement("div"),
					timeIcon = doc.createElement("img"),
					timeText = doc.createElement("div"),
					taxi = doc.createElement("div"),
					taxiIcon = doc.createElement("img"),
					taxiText = doc.createElement("div");
				// p = doc.createElement("p");
				li.setAttribute("class", "mui-table-view-cell mui-media");
				img.setAttribute("style", "width: 100%;height: 200px;");
				img.setAttribute("src", item.image);
				div.setAttribute("class", "mui-media-body");
				div2.setAttribute("style",
					"display: flex;flex-direction: column;justify-content: space-around;align-items: flex-start;height:10rem;");
				location.setAttribute("class", "item");
				location.setAttribute("style", "margin-top: 10px;");
				locationIcon.setAttribute("src", '../../img/location.png');
				locationIcon.setAttribute("class", "icon");
				locationText.innerHTML=item.addressEn;
				// locationText.innerText = item.addressEn;
				locationText.setAttribute("class", "text");
				phone.setAttribute("class", "item");
				phoneIcon.setAttribute('src', "../../img/phone.png");
				phoneIcon.setAttribute("class", "icon");
				phoneText.innerHTML=item.tel;
				// phoneText.innerText =item.tel;
				phoneText.setAttribute("class", "text");
				sendPhone.setAttribute("class", "item");
				sendPhoneIcon.setAttribute('src', "../../img/sendIcon.png");
				sendPhoneIcon.setAttribute("class", "icon");
				sendPhoneText.innerHTML=item.fax;
				// sendPhoneText.innerText = item.fax;
				sendPhoneText.setAttribute("class", "text");

				time.setAttribute("class", "item");
				timeIcon.setAttribute('src', "../../img/time_fill.png");
				timeIcon.setAttribute("class", "icon");
				timeText.innerHTML=item.businessHourEn;
				// timeText.innerText = item.businessHourEn;
				timeText.setAttribute("class", "text");

				taxi.setAttribute("class", "item");
				taxiIcon.setAttribute('src', "../../img/taxi.png");
				taxiIcon.setAttribute("class", "icon");
				taxiText.innerHTML=item.addressEn;
				//taxiText.innerText =item.addressEn;
				taxiText.setAttribute("class", "text");

				div.innerText = item.nameEn;
				// p.innerHTML = item.content;
				li.appendChild(a);
				a.appendChild(img);
				a.appendChild(div);
				div.appendChild(div2);
				div2.appendChild(location);
				div2.appendChild(phone);
				div2.appendChild(sendPhone);
				div2.appendChild(time);
				div2.appendChild(taxi);
				location.appendChild(locationIcon);
				location.appendChild(locationText);
				phone.appendChild(phoneIcon);
				phone.appendChild(phoneText);
				sendPhone.appendChild(sendPhoneIcon);
				sendPhone.appendChild(sendPhoneText);
				time.appendChild(timeIcon);
				time.appendChild(timeText);
				taxi.appendChild(taxiIcon);
				taxi.appendChild(taxiText);
				fragment.appendChild(li);
			}
		</script>
		<header class="mui-bar mui-bar-nav" style="background-color: red;">
			<a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left" style="color: #FFFFFF;"></a>
			<h1 class="mui-title" style="color: #FFFFFF;font-weight: bold;font-size: 20px;">Location</h1>
		</header>
		<div class="mui-content">
			<ul class="mui-table-view" id="ul" style="width: 100%;"></ul>
		</div>
	</body>

</html>
