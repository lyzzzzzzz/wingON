<!doctype html>
<html>

	<head>
		<meta charset="utf-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="../../css/mui.css" rel="stylesheet" />
		<style>
			html,body{
				height: 100%;
				width: 100%;
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: flex-start;
				touch-action: pan-y;
			}
		</style>
	</head>

	<body>
		<script src="../../js/mui.js"></script>
		<script type="text/javascript">
			mui.init()

			mui.plusReady(function() {
				//监听返回键
				mui('.mui-action-back')[0].addEventListener('tap', function() { // 绑定返回按钮事件
					plus.webview.show(plus.webview.currentWebview().opener());
				})
				plus.key.addEventListener('backbutton', function() {
					plus.webview.show(plus.webview.currentWebview().opener());
				})

				var valueUrl = null;
				var title = null;
				window.addEventListener('mapURL', function(event) {

					//获得事件参数
					title = event.detail.title;
					console.log('title' + title)
					valueUrl = event.detail.value;

				});

				var titleDoc = document.getElementById('title');
				titleDoc.innerHTML = title;

				var div = document.getElementById('content');

				mui.ajax(valueUrl, {
					data: {},
					dataType: 'html', //服务器返回html
					type: 'get', //HTTP请求类型
					success: function(data) {
						div.innerHTML = data
					},
					error: function(xhr, type, errorThrown) {
						//异常处理；
						console.log(type);
					}
				});
			})
		</script>

		<header class="mui-bar mui-bar-nav" style="background-color: red;box-shadow:0px 1px 5px #B6B6B6">
			<a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left" style="color: #FFFFFF;"></a>
			<h1 id="title" class="mui-title" style="color: #FFFFFF;font-weight: bold;font-size: 20px;">Terms and Conditions</h1>
		</header>

		<div id="content" class="mui-content" style="width: 90%;display: flex;flex-direction: column;align-items: center;justify-content: flex-start;">
		</div>

	</body>

</html>
