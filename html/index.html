<!doctype html>
<html>

	<head>
		<meta charset="utf-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="../css/mui.css" rel="stylesheet" />
		<style>
			#footer{
				display: flex;
				flex-direction: row;
				justify-content: center;
				align-items: flex-end;
				width: 100%;
				height: 60px;
				background-color: #EE5B5B;
				bottom: 0px;
				position: absolute;
			}
			body,html{
				z-index: 100;
			}
			
			img{
				width: 25px;
				height: 25px;
			}
			.item{
				display: flex;
				flex-direction: column;
				justify-content: center;
				align-items: center;
				color: #FFFFFF;
				font-size: 13px;
			}
			.homeItem{
				display: flex;
				flex-direction: column;
				justify-content: center;
				align-items: center;
				color: #FCEC64;
				font-size: 13px;
			}
		</style>
	</head>

	<body>
		<script src="../js/mui.js"></script>
		<script type="text/javascript">
			mui.init({
				keyEventBind: {
					backbutton: false, //Boolean(默认true)关闭back按键监听
					menubutton: false //Boolean(默认true)关闭menu按键监听
				},
			})
			// 
			var defaultpage = "./home/home.html"; // 定义默认选项卡子页面
			//定义所有子页面   './home/qrCode.html'
			var subpages = ['./home/home.html', './home/coupon.html', './home/promotion.html', './home/my.html'];
			var first = null;
			// 页面加载完成后加载子页面
			mui.plusReady(function() {

				var current = plus.webview.currentWebview(); //获取当前页面的窗口对象

				current.setStyle({
					zindex: 10000
				})
				// 加载所有子页面
				for (var i = 0; i < subpages.length; i++) {
					var sub = plus.webview.create(
						subpages[i],
						subpages[i], {
							top: '0px',
							bottom: '53px',
							zindex: i + 1
						}
					);
					// 除默认页面外，其他子页面隐藏
					if (subpages[i] != defaultpage) {
						sub.hide();
					}
					current.append(sub); // 子页面加入窗口对象
				}


				var home = document.getElementById('home')
				var coupon = document.getElementById('coupon')
				var promotion = document.getElementById('promotion')
				var my = document.getElementById('my')
				var qrCode = document.getElementById('qrCode')

				document.getElementById('home').addEventListener("click", function() {
					this.children[0].setAttribute('src', '../img/toolbar_wingon_b.png')
					this.setAttribute('style', 'color: #FCEC64;')
					coupon.setAttribute('style', 'color: #FFFFFF;')
					coupon.children[0].setAttribute('src', '../img/toolbar_coupon.png')
					promotion.setAttribute('style', 'color: #FFFFFF;')
					promotion.children[0].setAttribute('src', '../img/toolbar_promotion.png')
					my.setAttribute('style', 'color: #FFFFFF;')
					my.children[0].setAttribute('src', '../img/toolbar_my.png')
					qrCode.setAttribute('style', 'color: #FFFFFF;')
					qrCode.children[0].setAttribute('src', '../img/toolbar_passport.png')
					plus.webview.hide(defaultpage);
					plus.webview.show("./home/home.html")
					// plus.webview.currentWebview().append('./home/home.html')
					defaultpage = "./home/home.html";
				})

				document.getElementById('promotion').addEventListener("click", function() {
					home.children[0].setAttribute('src', '../img/home1.png')
					this.children[0].setAttribute('src', '../img/toolbar_promotion_b.png')
					this.setAttribute('style', 'color:#FCEC64;')
					home.setAttribute('style', 'color: #FFFFFF;')
					coupon.setAttribute('style', 'color: #FFFFFF;')
					coupon.children[0].setAttribute('src', '../img/toolbar_coupon.png')
					my.setAttribute('style', 'color: #FFFFFF;')
					my.children[0].setAttribute('src', '../img/toolbar_my.png')
					qrCode.setAttribute('style', 'color: #FFFFFF;')
					qrCode.children[0].setAttribute('src', '../img/toolbar_passport.png')
					plus.webview.hide(defaultpage);
					plus.webview.show("./home/promotion.html")
					defaultpage = "./home/promotion.html";
				})

				document.getElementById('coupon').addEventListener("click", function() {
					this.children[0].setAttribute('src', '../img/toolbar_coupon_b2.png')
					this.setAttribute('style', 'color: #FCEC64;')
					home.setAttribute('style', 'color: #FFFFFF;')
					home.children[0].setAttribute('src', '../img/home1.png')
					promotion.setAttribute('style', 'color: #FFFFFF;')
					promotion.children[0].setAttribute('src', '../img/toolbar_promotion.png')
					my.setAttribute('style', 'color: #FFFFFF;')
					my.children[0].setAttribute('src', '../img/toolbar_my.png')
					qrCode.setAttribute('style', 'color: #FFFFFF;')
					qrCode.children[0].setAttribute('src', '../img/toolbar_passport.png')
					plus.webview.hide(defaultpage);
					plus.webview.show("./home/coupon.html")

					defaultpage = "./home/coupon.html";
				})


				document.getElementById('my').addEventListener("click", function() {
					this.children[0].setAttribute('src', '../img/toolbar_my_b.png')
					this.setAttribute('style', 'color:#FCEC64;')
					home.setAttribute('style', 'color: #FFFFFF;')
					home.children[0].setAttribute('src', '../img/home1.png')
					promotion.setAttribute('style', 'color: #FFFFFF;')
					promotion.children[0].setAttribute('src', '../img/toolbar_promotion.png')
					coupon.setAttribute('style', 'color: #FFFFFF;')
					coupon.children[0].setAttribute('src', '../img/toolbar_coupon.png')
					qrCode.setAttribute('style', 'color: #FFFFFF;')
					qrCode.children[0].setAttribute('src', '../img/toolbar_passport.png')
					plus.webview.hide(defaultpage);
					plus.webview.show("./home/my.html")
					defaultpage = "./home/my.html";
				})


				document.getElementById('qrCode').addEventListener("click", function() {
					// this.children[0].setAttribute('src', '../img/toolbar_passport_b2.png')
					// this.setAttribute('style', 'color: #FCEC64;')
					// home.setAttribute('style', 'color: #FFFFFF;')
					// home.children[0].setAttribute('src', '../img/home1.png')
					// promotion.setAttribute('style', 'color: #FFFFFF;')
					// promotion.children[0].setAttribute('src', '../img/toolbar_promotion.png')
					// coupon.setAttribute('style', 'color: #FFFFFF;')
					// coupon.children[0].setAttribute('src', '../img/toolbar_coupon.png')
					// my.setAttribute('style', 'color: #FFFFFF;')
					// my.children[0].setAttribute('src', '../img/toolbar_my.png')
					// plus.webview.hide(defaultpage);
					mui.openWindow({
						url: './home/qrCode.html',
						id: 'qrCode.html'
					});
					//	plus.webview.show("./home/qrCode.html")
					// defaultpage = "./home/qrCode.html";
				})

			});
		</script>
		<!-- <div class="mui-content"> -->
		<div id="footer">

			<div style="display: flex;flex-direction: row;justify-content: space-around;align-items: flex-end;flex: 1;padding-right: 5px;">
				<div class="homeItem" id="home">
					<img src="../img/toolbar_wingon_b.png" />
					<span>WingOn</span>
				</div>
				<div class="item" id="coupon">
					<img src="../img/toolbar_coupon.png" />
					<span>Coupon</span>
				</div>
			</div>


			<!-- <div style="position: relative;">
				<div class="item" style="border-radius: 30px;position: absolute;bottom: -20px;   background: #EE5B5B;z-index: 100;"
				 id="qrCode">
					<img src="../img/toolbar_passport.png" style="width: 35px;height: 35px;margin-top: 10px;" />
					<span>Passport</span>
				</div>
			</div> -->

			<div class="item" id="qrCode" style="width: 70px;z-index: 20;">
				<img src="../img/toolbar_passport.png" style="width: 35px;height: 35px;" />
				<span>Passport</span>
			</div>

			<div style="display: flex;flex-direction: row;justify-content: space-around;align-items: flex-end;flex: 1;padding-left: 5px;">
				<div class="item" id="promotion">
					<img src="../img/toolbar_promotion.png" />
					<span>Promotion</span>
				</div>
				<div class="item" id="my">
					<img src="../img/toolbar_my.png" />
					<span>Account</span>
				</div>
			</div>

		</div>
		<!-- </div> -->
	</body>

</html>
